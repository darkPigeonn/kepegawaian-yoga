<template name="pagePpdb">
  <div class="container">
    <div class="page-title mt-2">
      <h3>Daftar Calon Siswa Baru</h3>
    </div>
    <div class="page-content mt-3">
      <table class="table table-group-divider">
        <thead>
          <th>No.</th>
          <th>Nama</th>
          <th>Alamat</th>
          <th>Tanggal Lahir | Umur</th>
          <th>Tanggal Daftar</th>
          <th>Status</th>
          <th>Aksi</th>
        </thead>
        <tbody>
          {{#each students}}
          <tr>
            <td>
              {{getNumber @index}}
            </td>
            <td>
              {{capitalizeWord fullName}} <br>
              <span class="span-nis">{{nis}}</span>
            </td>
            <td>
              {{address}}
            </td>

            <td>
              {{formatHRDate dob}} | {{thisAge dob}} Tahun
            </td>
            <td>
              {{formatHRDate createdAt}}
            </td>
            <td>
              {{statusPpdb status}}
            </td>
            <td>
              <a href="/ppdb/details/{{toMeteorId _id}}" class="btn btn-primary" id="btn-detail">Lihat</a>
            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
      <nav>
        <ul class="pagination">
          {{#each getPageNumbers totalPages}}
          <li class="{{isActive this}}"><a href="#" class="page-link" data-page="{{this}}">{{this}}</a></li>
          {{/each}}
        </ul>
      </nav>
    </div>
  </div>
</template>

<template name="periodPpdb">
  <div class="container">

  </div>
</template>


<!-- Virtual Account  -->
<template name="pageVa">
  <div class="container">
    <div class="page-title">
      <h3>Daftar Virtual Account</h3>
    </div>
    <div class="page-action">
      <div class="float-right my-3">
        <a href="/ppdb/va/generate" class="btn btn-primary" id="btn-generate-va">Generate VA</a>
        <button class="btn btn-primary" id="btn-open-form-download">Unduh Va</button>
      </div>
    </div>
    <div class="page-content mt-3">
      {{#if formUnduh}}
      <div class="p-5">
        {{> formUnduhVa}}
      </div>
      {{/if}}
      <table class="table tabl">
        <thead>
          <th>No.</th>
          <th>Nomor VA</th>
          <th>Nama Sekolah</th>
          <th>Nominal</th>
          <th>Tanggal dibuat</th>
          <th>Status</th>
          <th>Kategori</th>
          <!-- <th>Aksi</th> -->
        </thead>
        <tbody>
          {{#each va}}
          <tr>
            <td>
              {{getNumber @index}}
            </td>
            <td>
              {{virtualAccountNumber}}
            </td>
            <td>
              {{schoolName}} | {{unitName}}
            </td>
            <td>
              {{formatRp amount}}
            </td>
            <td>
              {{formatHRDate createdAt}}
            </td>

            <td>
              {{statusVa status}}
            </td>
            <td>
              {{categoryVa category}}
            </td>
            <!-- <td>
              <button class="btn btn-primary" id="btn-update">Kelola</button>
            </td> -->
          </tr>
          {{/each}}
        </tbody>
      </table>
      <!-- <nav>
        <ul class="pagination">

          {{#each getPageNumbers totalPages}}
          <li class="{{isActive this}}"><a href="#" class="page-link" data-page="{{this}}">{{this}}</a></li>
          {{/each}}
        </ul>
      </nav> -->
    </div>
  </div>


</template>

<template name="pageGenerateVa">
  <div class="container">
    <div class="page-title my-2">
      <h3>Generate Virtual Account</h3>
    </div>

    <div class="page-content">
      <div class="form-group">
        <label>Pilih Perwakilan</label>
        <select class="form-control select2" id="select-perwakilan">
          <option value="0">-- Silahkan Pilih Perwakilan --</option>
          {{#each listPerwakilan}}
          <option value="{{_id}}">{{name}}</option>
          {{/each}}
        </select>
      </div>
      <div class="form-group" id="section-school-select">
        <label>Pilih Sekolah</label>
        <select class="form-control select2 " id="select-school" multiple disabled>
          <option value="0">-- Silahkan Pilih Sekolah --</option>
          {{#each listSchools}}
          <option value="{{_id}}">{{name}} - {{city}}</option>
          {{/each}}
        </select>
      </div>
      <div class="form-group">
        <label>Input Kode Tahun Ajaran</label>
        <select id="selectedPeriode" class="form-control">
          <option value="0">-- Silahkkan Pilih --</option>
          {{#each listPeriode}}
          <option value="{{_id}}">{{year}}</option>
          {{/each}}
        </select>
        <!-- <input id="input-kode-periode" type="number" class="form-control" /> -->
      </div>
      <div class="form-group">
        <label>Pilih Tag</label>
        <select class="form-control" id="select-tag">
          <option value="0">-- Silahkan Pilih Tag --</option>
          <option value="formulir">Formulir (08)</option>
          <option value="spp">Uang Sekolah Full (90)</option>
          <option value="sppCicil">Uang Sekolah Cicil (99)</option>
        </select>
      </div>
      <button class="btn btn-primary btn-block" id="btn-generate" disabled>Generate</button>
    </div>

    <div class="preview-va">

      <table class="table table-bordered">
        <thead>
          <th>No.</th>
          <th>Sekolah</th>
          <th>Perwakilan</th>
          <th>Nomor VA</th>
        </thead>
        <tbody>
          {{#each listVa}}
          <tr>
            <td>
              {{getNumber @index}}
            </td>
            <td>
              {{schoolName}}
            </td>
            <td>
              {{unitName}}
            </td>
            <td>
              {{va}}
            </td>
            <td>

            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>

    </div>

    <nav>
      <ul class="pagination">
        {{#each getPageNumbers totalPages}}
        <li class="{{isActive this}}"><a href="#" class="page-link" data-page="{{this}}">{{this}}</a></li>
        {{/each}}
      </ul>
    </nav>
    <button class="btn btn-primary btn-block" id="btn-save">Simpan</button>

    <!-- <div>
      <button class="prev" {{prevDisabled}}>Sebelumnya</button>
      <button class="next" {{nextDisabled}}>Selanjutnya</button>
    </div>
    <div>
      <label for="page-select">Page:</label>
      <select class="page-select">
        {{#each pageNumbers}}
        <option value="{{this}}" {{isCurrentPage}}>{{this}}</option>
        {{/each}}
      </select>
    </div> -->
  </div>

</template>


<!-- PAYMENT -->
<template name="paymentPage">
  <div class="container my-2">
    <div class="page-title my-2">
      <h3>Konfirmasi Pembayaran</h3>
    </div>
    <div class="page-content">
      <div class="section-action d-flex justify-content-between">
        <input type="file" accept=".xlsx" id="upload-csv" />
        <a href="https://static.imavi.org/yayoga/format_konfirmasi_va.xlsx">Unduh Format Konfirmasi VA XLSX</a>
      </div>
      <div class="section-data">
        <table class="table table-borderless">
          <thead>
            <th>No</th>
            <th>Kode Perusahaan</th>
            <th>No. Pelanggan</th>
            <th>No. VA</th>
            <th>Nama Pelanggan</th>
            <th>Nilai Transaksi</th>
            <th>Tanggal Transaksi</th>
            <th>Berita</th>
          </thead>
          <tbody>
            {{#each listPaymentVa}}
            <tr>
              <td>{{nomorUrut @index}}</td>
              <td>{{compCode}}</td>
              <td>{{numberCustomer}}</td>
              <td>{{va}}</td>
              <td>{{name}}</td>
              <td>{{formatRp amount}}</td>
              <td>{{formatHRDateShort date}} {{formatTime time}}</td>
              <td>{{note}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>

      <button class="btn btn-primary btn-block" id="btn-save" disabled>Proses</button>
    </div>
  </div>

</template>


<!-- Registrans -->
<template name="detailRegistran">
  <div class="container mt-5">
    <div class="page-title">
      <h3>Detail Pendaftar</h3>
    </div>
    <div class="page-content">
      <div class="card">
        <table class="table table-borderless">
          <tr>
            <td>Nama</td>
            <td>{{capitalizeWord registran.fullName}}</td>
          </tr>
          <tr>
            <td>Tanggal Lahir</td>
            <td>{{formatHRDate registran.dob}}</td>
          </tr>
          <tr>
            <td>Alamat</td>
            <td>{{registran.address}}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</template>
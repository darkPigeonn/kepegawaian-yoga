<template name="staffsAttendancePage">
    <div class="container">
        <div class="row">
            <div class="col-xl-12 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Presensi Karyawan</h1>

                        <div class="section-shoulder mt-2">
                            <div>
                                <div class="btn-group">
                                    <a href="/presensi" class="btn btn-primary button-view" id="today">Daftar Hadir</a>
                                    <a href="{{pathFor route='rekapAttendancePage'}}"
                                        class="btn btn-success button-view" id="btn-rekap">Rekap Absensi Bulan Ini</a>
                                    <a href="{{pathFor route='historyAttendance'}}" class="btn btn-success button-view"
                                        id="btn-history">Riwayat Kehadiran</a>
                                    <a href="{{pathFor route='configurasiList'}}"
                                        class="btn btn-primary">Konfigurasi</a>
                                </div>
                            </div>

                        </div>

                        <ul class="list-group finance-items-list">
                            {{#if equals viewMode 0}}

                                <li class="list-group-item text-center">
                                    <h4>Daftar Hadir {{formatHRDate thisDay}}</h4>
                                </li>

                            {{/if}}
                            <div class="form-group">
                                <label>Pilih Tanggal</label>
                                <input type="date" class="form-control" id="selected-date" />
                            </div>
                            <div class="form-group mb-5">
                                <label>Pilih Kantor</label>
                                <select class="form-control select2" id="select-outlets">
                                    <option id="0">Semua</option>
                                    {{#each value in outletsUser}}
                                    <option id={{value}}>{{value}}</option>
                                    {{/each}}
                                </select>
                            </div>
                            {{#if equals viewMode 1}}
                                <li class="list-group-item">
                                    <h4 class="text-center">{{ userDetails.fullName }} - {{ userDetails.jabatan }} </h4>
                                    <div class="form-group">
                                        <label>Pilih Tanggal Mulai</label>
                                        <input type="date" class="form-control" id="selected-date-start" />
                                    </div>
                                    <div class="form-group">
                                        <label>Pilih Tanggal Akhir</label>
                                        <input type="date" class="form-control" id="selected-date-end" />
                                    </div>
                                    <button class="btn btn-primary" id="btn-getData"
                                        milik="{{toMeteorId userDetails.userId}}">
                                        Rekap
                                    </button>
                                </li>
                                <!-- <a href="printDetailAttendance/{{toMeteorId userDetails.userId}}"
                                    class="btn btn-primary">Cetak</a> -->
                            {{/if}}

                            <li class=" list-group-item">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                {{#if equals viewMode 0}}
                                                <td>
                                                    Nama
                                                </td>

                                                {{/if}}

                                                {{#if equals viewMode 1}}
                                                <td>
                                                    Nama
                                                </td>
                                                <td>
                                                    Tanggal
                                                </td>
                                                {{/if}}

                                                <td>
                                                    Jam Masuk
                                                </td>
                                                <td>
                                                    Jam Pulang
                                                </td>
                                                <td>
                                                    Jam Kerja
                                                </td>
                                                {{#if equals viewMode 0}}
                                                <td>
                                                    Aksi
                                                </td>
                                                {{/if}}
                                            </tr>
                                        </thead>

                                        <tbody>
                                            {{#each presensi}}
                                            <tr>
                                                {{#if equals viewMode 0}}
                                                <td>
                                                    <div class="column">
                                                        {{ fullName }}
                                                        <p>
                                                            {{ jabatan }}
                                                        </p>
                                                    </div>
                                                </td>
                                                {{/if}}

                                                {{#if equals viewMode 1}}
                                                <td>
                                                    {{fullName}}
                                                </td>
                                                <td>
                                                    {{ formatHRDate checkIn}}
                                                </td>
                                                {{/if}}

                                                <td>
                                                    {{ formatTime checkIn }}
                                                </td>
                                                <td>
                                                    {{#if checkOut}}
                                                    {{ formatTime checkOut }}
                                                    {{ else }}
                                                    -
                                                    {{/if}}
                                                </td>
                                                <td>
                                                    {{ formatTotalTimeWorking checkIn checkOut }}
                                                </td>
                                                <td>
                                                    {{#if equals viewMode 0}}
                                                    <button id="detailsView" milik="{{ userId }}"
                                                        class="btn btn-primary btn-sm"><i class="fa fa-eye"
                                                            milik="{{ userId }}"></i></button>
                                                    {{/if}}
                                                    {{#if isWfh}}
                                                    <a href="detailWfh/{{toMeteorId _id}}" class="btn btn-primary">WFH</a>
                                                    {{/if}}
                                                </td>
                                            </tr> {{/each}} </tbody>
                                    </table>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style>
         @media (max-width: 768px) {
            .btn-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .btn {
                max-width: none;
            }
        }
    </style>
</template>

<template name="rekapAttendancePage">
    <div class="container">
        <div class="row">
            <div class="col-xl-12 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Presensi Karyawan</h1>
                        <!-- <section class="section-filter">
                            <input type="month" class="form-control" id="select-period" value="{{ currentMonth }}">
                        </section> -->

                        <section class="section-shoulder mt-2">
                            <div>
                                <div class="btn-group">
                                    <a href="/presensi" class="btn btn-success button-view" id="today">Daftar Hadir</a>
                                    <a href="{{pathFor route='rekapAttendancePage'}}"
                                        class="btn btn-primary button-view" id="btn-rekap">Rekap Absensi Bulan Ini</a>
                                    <a href="{{pathFor route='historyAttendance'}}" class="btn btn-success button-view"
                                        id="btn-history">Riwayat Kehadiran</a>
                                </div>
                            </div>

                        </section>

                        <div class="form">
                            <div class="form-group">
                                <label>
                                    Jumlah libur Periode Presensi
                                </label>
                                <input type="number" class="form-control" id="jml-libur" required>
                            </div>
                            <div class="form-group">
                                <label>Pilih Tanggal Mulai</label>
                                <input type="date" class="form-control" id="selected-date-start" />
                            </div>
                            <div class="form-group">
                                <label>Pilih Tanggal Akhir</label>
                                <input type="date" class="form-control" id="selected-date-end" />
                            </div>
                            <button id="btn-rekap" class="btn btn-primary">Mulai Rekap</button>


                        </div>

                        <ul class="list-group finance-items-list">

                            <li class="list-group-item text-center">
                                <h4>Rekapitulasi Daftar Hadir Bulan Ini
                                </h4>
                            </li>
                            <li class="list-group-item">
                                <h4>Hari Aktif Kerja :
                                    {{ dataRekap.activeDayWorking }}
                                </h4>
                                <h4>Jumlah Hari Libur :
                                    {{ dataRekap.dayOf }}</h4>
                            </li>
                            {{#if dataRekap.details}}
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label for="selectUnitForm">Unit</label>
                                        <select id="selectUnitForm" placeholder="Silahkan Pilih Unit"
                                            class="form-control select2" milik="{{code}}">
                                            <option value="0">Semua Unit</option>
                                            {{#each value in partners}}
                                            <option value="{{value}}">{{value}}</option>
                                            {{/each}}
                                        </select>
                                    </div>
                                </div>
                                <!-- Button trigger modal -->
                                <a href="cetak-rekap/{{choosedPartner}}" target="_blank" type="button" id="cetak-rekap"
                                    class="btn btn-primary">
                                    Cetak Rekap
                                </a>

                            {{/if}}
                            <li class="list-group-item">
                                <!-- {{> financeListItem}} -->
                                <div class="table-responsive">
                                    <table class="table table-bordered" id="table-rekap">
                                        <thead>
                                            <tr>
                                                <td>
                                                    Nama
                                                </td>
                                                <td>
                                                    Unit
                                                </td>
                                                {{#if equals viewMode 1}}
                                                <td>
                                                    Tanggal
                                                </td>
                                                {{/if}}

                                                <td>
                                                    Total Hari Kerja
                                                </td>
                                                <td>
                                                    Total Tidak Masuk Kerja
                                                </td>
                                                <td>
                                                    Telat
                                                </td>

                                            </tr>
                                        </thead>

                                        <tbody>
                                            {{#each dataRekap.details}}
                                            <tr>

                                                <td>
                                                    <div class="column">
                                                        {{capitalizeWord fullName }}
                                                        {{ jabatan }}
                                                    </div>
                                                </td>
                                                <td>
                                                    {{ unit }}
                                                </td>


                                                <td>
                                                    {{ totalPresensi }}
                                                </td>
                                                <td>
                                                    {{ dafOf }}
                                                </td>
                                                <td>
                                                    {{totalLate}}
                                                </td>

                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </li>
                        </ul>

                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cetakRekap">
    <style>
        @media print {
            @page {
                size: landscape;
                margin-top: 22mm;
            }

            body {
                visibility: hidden;
            }

            #table-rekap {
                visibility: visible;
                position: absolute;
                left: 0;
                top: 0;
            }
        }
    </style>
    <button id="cetak-rekap" class="btn btn-primary">Cetak Rekap</button>
    <div class="table-responsive">
        <table class="table table-bordered" id="table-rekap">

            <thead style="display:table-header-group;">
                <tr>
                    <td>
                        Nama
                    </td>
                    <td>
                        Unit
                    </td>
                    <td>
                        Jabatan
                    </td>
                    <td>
                        Total Hari Kerja
                    </td>
                    <td>
                        Total Tidak Masuk Kerja
                    </td>
                    <td>
                        Telat
                    </td>
                    <td>
                        Tanggal Telat
                    </td>

                </tr>
            </thead>

            <tbody>
                {{#each dataRekap}}
                <tr>

                    <td>
                        {{capitalizeWord fullName }}
                    </td>
                    <td>
                        {{ unit }}
                    </td>
                    <td>
                        {{ jabatan }}
                    </td>
                    <td>
                        {{ totalPresensi }}
                    </td>
                    <td>
                        {{ dafOf }}
                    </td>

                    <td>
                        {{totalLate}}
                    </td>
                    <td>
                        {{#each timeStamps}}
                        {{ timeStamp}} ,
                        {{/each}}
                    </td>

                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</template>

<template name="historyAttendance">
    <div class="container">
        <div class="row">
            <div class="col-xl-12 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Presensi Karyawan</h1>
                        <!-- <section class="section-filter">
                            <input type="month" class="form-control" id="select-period" value="{{ currentMonth }}">
                        </section> -->

                        <section class="section-shoulder mt-2">
                            <div>
                                <div class="btn-group">
                                    <a href="/presensi" class="btn btn-success button-view" id="today">Daftar Hadir</a>
                                    <a href="{{pathFor route='rekapAttendancePage'}}"
                                        class="btn btn-success button-view" id="btn-rekap">Rekap Absensi Bulan Ini</a>
                                    <a href="{{pathFor route='historyAttendance'}}" class="btn btn-primary button-view"
                                        id="btn-history">Riwayat Kehadiran</a>
                                </div>
                            </div>

                        </section>

                        <ul class="list-group finance-items-list">

                            <li class="list-group-item text-center">
                                <h4>Rekapitulasi Daftar Hadir</h4>
                                <section class="section-filter">
                                    <input type="month" class="form-control" id="select-period"
                                        value="{{ currentMonth }}">
                                </section>
                            </li>
                            <li class="list-group-item">
                                <div class="form-group">
                                    <label for="selectUnitForm">Unit</label>
                                    <select id="selectUnitForm" placeholder="Silahkan Pilih Unit"
                                        class="form-control select2" milik="{{code}}">
                                        <option value="0">Semua Unit</option>
                                        {{#each value in outletsUser}}
                                        <option value="{{value}}">{{value}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <h4>Hari Aktif Kerja : {{ dataRekap.activeDayWorking }}</h4>
                                <h4>Jumlah Hari Libur : {{ dataRekap.dayOf }}</h4>
                            </li>
                            <li class="list-group-item">
                                <!-- {{> financeListItem}} -->
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <td>
                                                    Nama
                                                </td>
                                                <td>
                                                    Total Hari Kerja
                                                </td>
                                                <td>
                                                    Total Tidak Masuk Kerja
                                                </td>
                                                <td>
                                                    Telat
                                                </td>
                                                {{#if equals viewMode 0}}
                                                <td>
                                                    Aksi
                                                </td>
                                                {{/if}}
                                            </tr>
                                        </thead>

                                        <tbody>
                                            {{#each dataRekap.details}}
                                            <tr>
                                                <td>
                                                    {{capitalizeWord fullName }} <br> {{jabatan}}
                                                </td>
                                                <td>
                                                    {{ totalPresensi }} Hari
                                                </td>
                                                <td>
                                                    {{ dafOf }} Hari
                                                </td>
                                                <td>
                                                    {{ totalLate }}
                                                </td>
                                                {{#if equals viewMode 0}}
                                                <td>

                                                    <a href="/cetak-rekap-individu/{{currentMonth}}/{{userId}}"
                                                        target="_blank" class="btn btn-primary btn-sm"><i
                                                            class="fa fa-eye"></i></a>
                                                </td>
                                                {{/if}}
                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </li>
                        </ul>

                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="cetakRekapIndividu">
    <style>
        @media print {
            @page {
                size: portrait;
                margin-top: 22mm;
            }

            body {
                visibility: hidden;
            }

            #table-rekap {
                visibility: visible;
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                page-break-after: always
            }
        }
    </style>
    <button id="cetak-rekap" class="btn btn-primary">Cetak Rekap</button>
    <div id="table-rekap table-responsive">
        <table class="table summary-table text-center">
            <tbody>
                <tr>
                    <th width="200">Nama</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.fullName}}</th>
                </tr>
                <tr>
                    <th width="200">Jabatan</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.jabatan}}</th>
                </tr>
                <tr>
                    <th width="200">Unit</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.unit}}</th>
                </tr>
                <!-- <tr>
                    <th width="200">Total Kehadiran</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.totalPresensi}}</th>
                </tr>
                <tr>
                    <th width="200">Presentase Kehadiran</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.presentaseKehadiran}} %</th>
                </tr>
                <tr>
                    <th width="200">Tidak Masuk</th>
                    <th width="10">:</th>
                    <th>{{dataRekap.dafOf}}</th>
                </tr> -->

            </tbody>
        </table>

        <div class="table-responsive">
            <table class="table table-bordered">

                <thead style="display:table-header-group;">
                    <tr>

                        <td>
                            Tanggal
                        </td>
                        <td>
                            Jam Masuk
                        </td>
                        <td>
                            Scan Masuk
                        </td>
                        <td>
                            Jam Keluar
                        </td>
                        <td>
                            Scan Keluar
                        </td>
                        <td>
                            Keterangan
                        </td>

                    </tr>
                </thead>

                <tbody>
                    {{#each dataRekap.details}}
                    <tr>


                        <td>
                            {{formatHRDate checkIn }}
                        </td>
                        <td>
                            {{clockInSet }}
                        </td>
                        <td>
                            {{formatTime checkIn }}
                        </td>
                        <td>
                            {{clockInSet }}
                        </td>
                        <td>
                            {{formatTime checkOut }}
                        </td>
                        <td>
                            {{#if isLate}}
                            Terlambat
                            {{else}}
                            -
                            {{/if}}
                        </td>


                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</template>

<template name="detailWfh">
    <div class="page">
        <div class="row">
            <div class="col-xl-12 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Detail WFH</h1>
                        <ul>
                            <li class="list-group-item text-center">

                                <h4>{{ detailWfh.fullName }} - {{ detailWfh.jabatan }} </h4>
                                <img alt="No Image Found" id="profile" src="test" height="300" width="300" />
                                <div class="table-responsive">
                                    <table class="table">
                                        <tr>
                                            <td>
                                                Jam Masuk
                                            </td>

                                            <td>
                                                {{formatTime detailWfh.checkIn}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Jam Keluar
                                            </td>

                                            <td>
                                                {{formatTime detailWfh.checkOut}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Lokasi Presensi Masuk
                                            </td>

                                            <td>
                                                {{detailWfh.detailCheckIn.locationNote}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Keterangan
                                            </td>

                                            <td>
                                                {{detailWfh.detailCheckIn.note}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Foto Presensi Masuk
                                            </td>

                                            <td>
                                                <img width="150" src="{{detailWfh.detailCheckIn.images}}" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Lokasi Presensi Keluar
                                            </td>

                                            <td>
                                                {{detailWfh.detailCheckOut.locationNote}}
                                                <a class="btn btn-primary"
                                                    href="https://maps.google.com/?q={{ detailWfh.detailCheckOut.location.latitude }},{{ detailWfh.detailCheckOut.location.longitude }}"
                                                    target="_blank"><i class="fa fa-map"></i> Lihat di Google Map</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Keterangan Presensi Keluar
                                            </td>

                                            <td>
                                                {{detailWfh.detailCheckOut.note}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Foto Presensi Keluar
                                            </td>

                                            <td>
                                                <img width="150" src="{{detailWfh.detailCheckOut.images}}" />
                                            </td>
                                        </tr>
                                    </table>
                                </div>


                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>


<template name="configurasiList">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Konfigurasi Presensi</h1>
                        <section class="section-shoulder mt-2">
                            <div class="btn-group">
                                <button class="btn btn-warning" milik="0" id="btn-view-configuration">Jadwal</button>
                                <button class="btn btn-warning" milik="1" id="btn-view-configuration">Shift</button>
                            </div>
                        </section>

                        <ul class="list-group">
                            <li class="list-group-item text-center">
                                <h4>Konfigurasi Jadwal dan Shift</h4>
                            </li>
                            <section class="section-shoulder mt-2">

                                {{#if equals viewMode '1'}}
                                <!-- Button trigger modal -->
                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                    data-target="#exampleModal">
                                    + Buat Baru Shift
                                </button>
                                <!-- Modal -->
                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel">Data Baru</h5>
                                                <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="form-group">
                                                    <label>Nama Shift</label>
                                                    <input type="text" class="form-control" id="input-name-shift" />
                                                </div>

                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label for="input-checkIn">Jam Masuk</label>
                                                        <input type="time" class="form-control" id="input-clockIn"
                                                            placeholder="Jam Masuk">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label for="input-checkOut">Jam Keluar</label>
                                                        <input type="time" class="form-control" id="input-clockOut"
                                                            placeholder="Jam Keluar">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-dismiss="modal">Batal</button>
                                                <button type="button" class="btn btn-primary"
                                                    id="btn-save-clocks">Simpan</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {{/if}}

                                {{#if equals viewMode '0'}}
                                <!-- Large modal -->
                                <button type="button" class="btn btn-primary" data-toggle="modal"
                                    data-target=".bd-example-modal-lg">+ Buat Baru Jadwal</button>
                                <!-- Modal Show -->
                                <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog"
                                    aria-labelledby="myLargeModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <form>
                                                    <div class="form-group">
                                                        <label for="input-name">Nama Jadwal</label>
                                                        <input type="text" class="form-control" id="input-name-jadwal-insert"
                                                            placeholder="Silahkan Tulis Nama">
                                                    </div>

                                                    {{#each listDay}}
                                                    <div class="form-row">
                                                        <div class="form-group col-md-3">
                                                            <label for="inputCity">Hari</label>
                                                            <input type="text" class="form-control" id="inputDay"
                                                                value="{{label}}">
                                                        </div>
                                                        <div class="form-group col-md-3">
                                                            <label for="inputShift">Shift</label>
                                                            <select id="inputShift" class="form-control"
                                                                milik="{{code}}">
                                                                <option value="0">--Silahkan Pilih Shift--</option>
                                                                {{#each list}}
                                                                <option value="{{_id}}">{{name}}</option>
                                                                {{/each}}
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-md-3">
                                                            <label for="inputCity">Jam Masuk</label>
                                                            <input type="text" class="form-control" id=""
                                                                value="{{clockIn}}" disabled>
                                                        </div>
                                                        <div class="form-group col-md-3">
                                                            <label for="inputCity">Jam Keluar</label>
                                                            <input type="text" class="form-control" id=""
                                                                value="{{clockOut}}" disabled>
                                                        </div>
                                                    </div>
                                                    {{/each}}
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Batal</button>
                                                        <button type="submit" class="btn btn-primary"
                                                            id="btn-save-schedule" milik="">Simpan Jadwal</button>
                                                    </div>
                                                </form>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <!-- Modal Show End -->

                                <button type="button" class="btn btn-primary" id="btn-create-pairings">Pairings</button>

                                {{/if}}


                            </section>
                            {{#if equals viewMode '1'}}

                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <th>
                                            No
                                        </th>
                                        <th>
                                            Nama Jadwal
                                        </th>
                                        <th>
                                            Aksi
                                        </th>
                                    </thead>
                                    <tbody>
                                        {{#each list}}
                                        <tr>
                                            <td>
                                                {{nomorUrut @index}}
                                            </td>
                                            <td style="width:70%">
                                                {{name}}
                                            </td>
                                            <td>
                                                <a href="/configurasi/details/{{_id}}" class="btn btn-primary btn-aksi"
                                                    milik="">Daftar Karyawan</a>
                                                {{> modalShowEditShift dataTarget=_id label='Edit' milik=_id listDay=schedule dataEditShift=dataEditShift list=list}}
                                                <button class="btn btn-danger btn-aksi" milik="{{_id}}" id="btn-hapus-shift">Hapus</button>
                                            </td>
                                        </tr>
                                        {{/each}}
                                    </tbody>
                                </table>
                            </div>
                            <li class="list-group-item">
                                {{name}}
                            </li>

                            {{/if}}
                            {{#if equals viewMode '0'}}

                            {{#if viewCreate}}
                            <form>
                                <div class="form-group">
                                    <label for="inputShiftPairings">Jadwal</label>
                                    <select id="inputShiftPairings" class="form-control select2" milik="{{code}}"
                                        multiple>
                                        <option value="0">--Silahkan Pilih Jadwal--</option>
                                        {{#each scheduleList}}
                                        <option value="{{_id}}-{{name}}">{{name}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="inputEmployeesPairings">Karyawan</label>
                                    <select id="inputEmployeesPairings" class="form-control select2" milik="{{code}}"
                                        multiple {{statusOptionKaryawan}}>
                                        <option value="0">--Silahkan Pilih Karyawan--</option>
                                        {{#each employees}}
                                        <option value="{{_id}}-{{fullName}}">{{fullName}}
                                        </option>
                                        {{/each}}
                                    </select>
                                </div>
                                <button class="btn btn-primary" id="btn-add-pair">Tambah</button>
                                <h4>Daftar Karyawan dan Jadwal</h4>
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <th>Nomor</th>
                                            <th>Nama</th>
                                            <th>Jabatan</th>
                                            <th>Jadwal</th>
                                        </thead>
                                        <tbody>
                                            {{#each schedulePairings}}
                                            <tr>
                                                <td>
                                                    {{setTableNumber @index}}
                                                </td>
                                                <td>
                                                    {{fullName}}
                                                </td>
                                                <td>
                                                    {{jabatan}}
                                                </td>
                                                <td>
                                                    {{#each schedules}}
                                                <td>
                                                    {{scheduleName}}
                                                </td>

                                                {{/each}}
                                                </td>
                                                <td>
                                                    <button class="btn btn-danger" id="btn-remove" milik="{{userId}}">
                                                        <i class="fa fa-trash"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                                    <button type="submit" class="btn btn-primary" id="btn-save-pairings">Simpan</button>
                                </div>
                            </form>

                            {{else}}
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <th>
                                            No
                                        </th>
                                        <th>
                                            Nama Shift
                                        </th>
                                        <th>
                                            Aksi
                                        </th>
                                    </thead>
                                    <tbody>
                                        {{#each scheduleList}}
                                        <tr>
                                            <td>
                                                {{nomorUrut @index}}
                                            </td>
                                            <td>
                                                {{name}}
                                            </td>

                                            <td>
                                                <a href="/configurasi/details/{{_id}}" class="btn btn-primary btn-aksi"
                                                    milik="">Daftar Karyawan</a>
                                                {{> modalShowEdit dataTarget=_id label='Edit' labelSchedule=name milik=_id listDay=schedule list=list}}
                                                <!-- {{_id}} -->
                                                <button class="btn btn-danger btn-aksi" milik="{{_id}}" id="btn-hapus-jadwal">Hapus</button>
                                            </td>
                                        </tr>
                                        {{/each}}
                                    </tbody>
                                </table>
                            </div>

                            {{/if}}
                            {{/if}}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="modalShowEdit">
    <button type="button" class="btn btn-primary" id="btn-modal-edit" milik="{{milik}}" data-toggle="modal"
        data-target=".{{dataTarget}}">{{label}}</button>

    <div class="modal fade {{dataTarget}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="input-name">Nama</label>
                            <input type="text" class="form-control" id="input-name-{{dataTarget}}" placeholder="Silahakan Tulis Nama"
                                value="{{labelSchedule}}">
                        </div>
                        {{#each listDay}}

                        <div class="form-row">
                            <div class="form-group col-md-3">
                                <label for="inputCity">Hari</label>
                                <input type="text" class="form-control" id="inputDay" value="{{label}}">
                            </div>
                            <div class="form-group col-md-3">
                                <label for="inputShift">Shift</label>
                                <select id="inputShiftEdit" class="form-control" milik="{{code}}">
                                    <option value="0">--Silahkan Pilih Shift--</option>
                                    {{#each ../list}}
                                    <option value="{{../../dataTarget}}-{{../code}}-{{_id}}">{{name}}</option>
                                    {{/each}}
                                </select>
                            </div>
                            <div class="form-group col-md-3">
                                <label for="inputCity">Jam Masuk</label>
                                <input type="text" class="form-control" id="input-clockin-edit" value="{{clockIn}}"
                                    disabled>
                            </div>
                            <div class="form-group col-md-3">
                                <label for="inputCity">Jam Keluar</label>
                                <input type="text" class="form-control" id="input-clockout-edit" value="{{clockOut}}"
                                    disabled>
                            </div>
                        </div>
                        {{/each}}
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                            <button type="submit" class="btn btn-primary" id="btn-save-edit-schedule" milik="{{dataTarget}}">Simpan Jadwal</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</template>

<template name="modalShowEditShift">
    <button type="button" class="btn btn-primary" id="btn-modal-edit-shift" milik="{{milik}}" data-toggle="modal"
        data-target=".{{dataTarget}}">{{label}}</button>

    <div class="modal fade {{dataTarget}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="input-name">Nama</label>
                            <input type="text" class="form-control" id="input-name-shift-edit-{{dataTarget}}" placeholder="Silahkan Tulis Nama"
                                value="{{dataEditShift.name}}">
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-3">
                                <label for="inputCity">Jam Masuk</label>
                                <input type="time" class="form-control" id="input-clockIn-shift-edit-{{dataTarget}}" value="{{dataEditShift.clockIn}}" placeholder="Jam Masuk">
                            </div>
                            <div class="form-group col-md-3">
                                <label for="inputCity">Jam Keluar</label>
                                <input type="time" class="form-control" id="input-clockOut-shift-edit-{{dataTarget}}" value="{{dataEditShift.clockOut}}" placeholder="Jam Pulang">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Batal</button>
                            <button type="submit" class="btn btn-primary" id="btn-save-edit-shift" milik="{{dataTarget}}">Simpan Jadwal</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</template>

<template name="configurasiDetails">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-body">
                        <h1 class="page-title">Konfigurasi Presensi</h1>
                        <a href="/configurasi/list">
                            <button class="btn btn-warning" id="btn-back">Kembali</button>
                        </a>
                        <div class="table-responsive">
                            <table class="table table-bordered dataTable2" id="mytable">
                                <thead>
                                    <th>
                                        No.
                                    </th>
                                    <th>
                                        Nama
                                    </th>
                                    <th>
                                        Jadwal
                                    </th>
                                </thead>
                                <tbody>
                                    {{#each listEmployess}}
                                    <tr>
                                        <td>
                                            {{nomorUrut @index}}
                                        </td>
                                        <td>
                                            {{fullName}}
                                        </td>
                                        {{#each schedules}}
                                        <td>{{scheduleName}}</td>
                                        {{/each}}
                                    </tr>
                                    {{/each}}
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- <template name="detailAttendance">
    <div class="page">
        <h1 class="page-title">Pelaporan Rincian Harian </h1>
        <ul>
            <li class="list-group-item text-center">

                <h4>{{ detailWfh.fullName }} - {{ detailWfh.jabatan }} </h4>
                <img alt="No Image Found" id="profile" src="test" height="300" width="300" />
                <table class="table table-responsive">
                    <tr>
                        <td>
                            Jam Masuk
                        </td>

                        <td>
                            {{formatTime detailWfh.checkIn}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Jam Keluar
                        </td>

                        <td>
                            {{formatTime detailWfh.checkOut}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Lokasi Presensi Masuk
                        </td>

                        <td>
                            {{detailWfh.detailCheckIn.locationNote}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Keterangan
                        </td>

                        <td>
                            {{detailWfh.detailCheckIn.note}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Foto Presensi Masuk
                        </td>

                        <td>
                            <img width="150" src="{{detailWfh.detailCheckIn.images}}" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Lokasi Presensi Keluar
                        </td>

                        <td>
                            {{detailWfh.detailCheckOut.locationNote}}
                            <a class="btn btn-primary"
                                href="https://maps.google.com/?q={{ detailWfh.detailCheckOut.location.latitude }},{{ detailWfh.detailCheckOut.location.longitude }}"
                                target="_blank"><i class="fa fa-map"></i> Lihat di Google Map</a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Keterangan Presensi Keluar
                        </td>

                        <td>
                            {{detailWfh.detailCheckOut.note}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Foto Presensi Keluar
                        </td>

                        <td>
                            <img width="150" src="{{detailWfh.detailCheckOut.images}}" />
                        </td>
                    </tr>
                </table>

            </li>
        </ul>
    </div>
</template> -->